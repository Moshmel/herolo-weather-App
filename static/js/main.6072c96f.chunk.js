(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,a){e.exports=a(86)},50:function(e,t,a){},51:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},76:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=(a(50),a(51),a(16)),s=a(15),l=a(4),u=a.n(l),m=a(9),d=a(12),p=a(13),f=a(18),h=a(17),v=a(19),g=(a(53),a(2)),b=a(14),y=(a(54),function(){return r.a.createElement("section",{className:"loading"},r.a.createElement("h2",{class:"animate"},"Loading"))}),k=(a(55),{h3:{marginTop:6},card:{backgroundColor:"white",display:"block",minWidth:168,maxWidth:168,height:200,boxShadow:"0 1px 5px 1px rgba(0,0,0,.15)",margin:15,borderRadius:"4px"},imgConatiner:{},img:{}}),E=function(e){var t=e.info;console.log("this is info",t);var a="/home/".concat(t.label,"/").concat(t.id),n=t.isDayTime;return r.a.createElement(i.b,{to:a},r.a.createElement("section",{className:"favorite-card",style:k.card},r.a.createElement("h3",{style:k.h3},t.label),r.a.createElement("h3",{style:k.h3},t.weatherText),r.a.createElement("h3",{style:k.h3},t.temperature.Imperial.Value," F"),r.a.createElement("div",{style:k.imgConatiner},n&&r.a.createElement("img",{src:"https://res.cloudinary.com/explority/image/upload/c_scale,h_120/v1564228822/sun_qwmb3w.jpg"}),!n&&r.a.createElement("img",{src:"https://res.cloudinary.com/explority/image/upload/c_scale,h_120/v1564228823/moon_dvwkkt.jpg"}))))},w=a(23),x=a.n(w);function O(){return(O=Object(m.a)(u.a.mark(function e(t){var a,n,r,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0;case 2:if(!(n<t.length)){e.next=20;break}return r=t[n],e.prev=4,e.next=7,x.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(r.id,"?apikey=EDoXcIUtqNmGbRlLbqNReSUUtgmnUHt0&language=en-us&details=falseHTTP/1.1"));case 7:c=(c=e.sent).data[0],r.isDayTime=c.IsDayTime,r.temperature=c.Temperature,r.weatherText=c.WeatherText,a.push(r),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(4);case 17:n++,e.next=2;break;case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e,null,[[4,15]])}))).apply(this,arguments)}function j(){return(j=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=EDoXcIUtqNmGbRlLbqNReSUUtgmnUHt0&language=en-us&details=false&metric=false%20HTTP/1.1")));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(){return(N=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=%09EDoXcIUtqNmGbRlLbqNReSUUtgmnUHt0&q=".concat(t,"&language=en-us HTTP/1.1")));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var C={manageAutoCompOptions:function(e){return e.data.reduce(function(e,t){return e.push({id:t.Key,label:t.LocalizedName}),e},[])},manageDaysForcasts:function(e){var t=e.data.DailyForecasts;return console.log("temp isssssssss",t),t.reduce(function(e,t){return e.push({time:t.EpochDate,min:t.Temperature.Minimum.Value,max:t.Temperature.Maximum.Value,weatherText:t.Day.IconPhrase}),e},[])},getFiveDaysForcast:function(e){return j.apply(this,arguments)},getFavoritesData:function(e){return O.apply(this,arguments)},getAutoCompOptions:function(e){return N.apply(this,arguments)}},F=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={favorited:null,isLoading:!0},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.store.getFavorited,e.next=3,C.getFavoritesData(Object(g.o)(t));case 3:a=e.sent,this.setState({favorited:a,isLoading:!1});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isLoading?r.a.createElement(y,null):r.a.createElement("section",{className:"favorite-page slide-in-fwd-center"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"Favorited Places"),r.a.createElement("div",{className:"card-container"},this.state.favorited.map(function(e,t){return r.a.createElement(E,{info:e,key:t})}))))}}]),t}(n.Component),D=Object(b.b)("store")(Object(b.c)(F)),T=(a(76),a(22)),S=(a(38),a(42)),I=a.n(S),U=(a(80),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(e){console.warn('Missing "onClick" property')},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.checked,n=t.onClick;return r.a.createElement("button",Object.assign({className:"heart-checkbox ".concat(a?"checked":""),onClick:function(t){return n?n(t,e.props):e.onClick(t)}},this.props))}}]),t}(n.Component)),L=(a(81),function(e){var t=e.dayInfo,a=new Date(0),n=new Date(a.setUTCSeconds(t.time)).toDateString().substring(0,3);return r.a.createElement("section",{className:"day-card"},r.a.createElement("div",{className:"day-card-container"},r.a.createElement("h3",null,n),r.a.createElement("h3",null,t.max,"-",t.min," F"),r.a.createElement("h3",{className:"weather-info"},t.weatherText)))}),q=(a(82),function(e){var t=e.forcast;return r.a.createElement("section",{className:"days-card-list"},t.map(function(e,t){return r.a.createElement(L,{dayInfo:e,key:t})}))}),R=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(h.a)(t).call(this,e))).handleFavoriteClick=function(){var e=a.props.store.addToFavorite;if(a.state.selectedCity){a.setState(function(e,t){return{checked:!e.checked}}),e(a.state.selectedCity);var t=a.props.store.getFavorited,n=Object(g.o)(t);if(n.length>0){var r=n.findIndex(function(e){return e.id==a.state.selectedCity.id});if(r>-1){var c=n.splice(r,1);a.setState({favoritedList:c})}}}},a.handleChange=function(){var e=Object(m.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({value:t.target.value}),/^[a-z]+$/i.test(t.target.value)){e.next=7;break}(function(){return T.a.error("Use english letters only")})(),e.next=18;break;case 7:return e.prev=7,e.next=10,C.getAutoCompOptions(t.target.value);case 10:n=e.sent,r=C.manageAutoCompOptions(n),a.setState({options:r}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),console.log("error on fetching options",e.t0);case 18:case"end":return e.stop()}},e,null,[[7,15]])}));return function(t){return e.apply(this,arguments)}}(),a.handleSelect=function(){var e=Object(m.a)(u.a.mark(function e(t){var n,r,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.options.find(function(e){return e.label===t}),e.next=3,C.getFiveDaysForcast(n.id);case 3:r=e.sent,c=C.manageDaysForcasts(r),a.setState({selectedCity:n,value:t,daysData:c});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={value:"",options:[],selectedCity:null,daysData:[],favoritedList:[],checked:!1},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,c,o,i,s,l,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.store.getFavorited,a=Object(g.o)(t),n=this.props.match.params,r=n.cityname,c=n.cityid,o=r&&c?{id:c,label:r}:{id:"215854",label:"Tel-aviv"},i=a.findIndex(function(e){return e.id===o.id}),s=i>-1,e.prev=6,e.next=9,C.getFiveDaysForcast(o.id);case 9:l=e.sent,m=C.manageDaysForcasts(l),this.setState({daysData:m,value:o.label,selectedCity:o,favoritedList:a,checked:s}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[6,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"weather-page slide-in-fwd-center"},r.a.createElement("div",{className:"input-section"},r.a.createElement("label",{className:"city-label"},"Enter city"),r.a.createElement(I.a,{items:this.state.options,shouldItemRender:function(e,t){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1},getItemValue:function(e){return e.label},renderItem:function(e,t){return r.a.createElement("div",{key:e.id,style:{backgroundColor:t?"#eee":"transparent"}},e.label)},value:this.state.value,onChange:this.handleChange,onSelect:function(t){return e.handleSelect(t)}})),r.a.createElement("div",{className:"favorite-heart"},r.a.createElement("label",null,"Mark as favorite"),r.a.createElement(U,{checked:this.state.checked,onClick:this.handleFavoriteClick})),r.a.createElement("div",{className:"forcast-card-container"},r.a.createElement(q,{forcast:this.state.daysData})))}}]),t}(n.Component),_=Object(b.b)("store")(Object(b.c)(R)),H=(a(85),function(){return r.a.createElement("section",{className:"navbar"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"logo"},r.a.createElement("h1",null,"herolo weather app")),r.a.createElement("div",{className:"links-container"},r.a.createElement(i.b,{exact:!0,className:"Nav_link",to:"/"},"Home"),"|",r.a.createElement(i.b,{exact:!0,className:"Nav_link",to:"/favorite"},"Favorite"))))}),A=function(){return r.a.createElement(i.a,null,r.a.createElement(H,null),r.a.createElement(s.a,{exact:!0,path:"/",component:_}),r.a.createElement(s.a,{exact:!0,path:"/favorite",component:D}),r.a.createElement(s.a,{exact:!0,path:"/home/:cityname/:cityid",component:_}))};var M={loadFromStorage:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null},saveToStorage:function(e,t){localStorage[e]=JSON.stringify(t)}},P="favorite-data",W=function(){function e(){var t=this;Object(d.a)(this,e),this.addToFavorite=function(e){var a=t.favorited.findIndex(function(t){return t.id===e.id});-1===a?t.favorited.push(e):t.favorited.splice(a,1),console.log("favorited array",Object(g.o)(t.favorited)),M.saveToStorage(P,t.favorited)};var a=M.loadFromStorage(P);this.favorited=a||[]}return Object(p.a)(e,[{key:"getFavorited",get:function(){return this.favorited}}]),e}();Object(g.h)(W,{getFavorited:g.e,favorited:g.m,addToFavorite:g.d});var J=new W;T.a.configure();var V=function(){return r.a.createElement(b.a,{store:J},r.a.createElement("div",{className:"App"},r.a.createElement(A,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,1,2]]]);
//# sourceMappingURL=main.6072c96f.chunk.js.map